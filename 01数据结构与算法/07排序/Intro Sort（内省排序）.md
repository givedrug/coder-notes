# Intro Sort（内省排序）


内省排序是**插入排序**、**快速排序**和**堆排序**的结合，是一种不稳定的排序算法，由David Musser于1997年发明。内省排序是对快速排序的一种优化，保证了最差时间复杂度为$O(n\log n)$。从2000年6月起，C++ STL的部分容器中sort()函数的实现采用了内省排序算法。

内省排序：
- 当元素数量较小时（如32），使用插入排序；
- 当divisions数量达到限制$1.5 \log n$时，使用堆排序;
- 否则使用快速排序。

注：divisions即为划分次数，也就是执行partition操作的次数，最优情况下为$\log n$，最坏情况下为$n$。

内省排序在最优、最差和平局情况下的时间复杂度都为$O(n \log n)$。内省排序的空间复杂度为$O(\log n)$。

参考：[c++排序函数sort stable_sort底层原理总结](https://zhuanlan.zhihu.com/p/659709757)
