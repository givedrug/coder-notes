# Java修饰词volatile


并不是Java语言的特产，古老的C语言里也有，它最原始的意义就是禁用CPU缓存。

一旦一个共享变量（类的成员变量、类的静态成员变量）被volatile修饰之后，那么就具备了两层语义：

1）**保证**了不同线程对这个变量进行操作时的**可见性**，禁用CPU缓存，即一个线程修改了某个变量的值，这新值对其他线程来说是立即可见的。

2）**禁止**进行指令**重排序**。

很少使用，除非能够清晰简单的解决某些问题，否则避免使用。

加锁机制既可以保证可见性，又可以保证原子性，而volatile只能保证可见性。

一个使用的例子：

```java
volatile boolean asleep;
//doSomething();
while(!asleep)
    countSheep();
```
