# 对象的创建


当jvm遇到new对象时：

1.类加载检查：

在常量池中定位类符号引用，如果有，则表示此类已经被加载过，否则执行类加载过程。

然后通过逃逸分析，是否采用栈上分配

2.分配内存空间：

如果开启TLAB，则直接在此分配；

否则在公共堆上分配（可分为“指针碰撞”和“空闲列表方式”，前者对应GC后空间被压缩整理过的情况，后者对应一般情况）。

3.初始化零值

4.设置对象头：

标记所属类、类元数据信息地址、GC分代信息等。

5.构造函数：

jvm处理新对象构建完成后，后面就是构造函数的执行了。
